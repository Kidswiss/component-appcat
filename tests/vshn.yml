parameters:
  kapitan:
    dependencies:
      - type: https
        source: https://raw.githubusercontent.com/projectsyn/component-crossplane/v2.3.0/lib/crossplane.libsonnet
        output_path: vendor/lib/crossplane.libsonnet
    compile:
      - input_paths:
          - ${_base_directory}/dev/component/objectstorage.jsonnet
        input_type: jsonnet
        output_path: appcat/

  facts:
    cloud: cloudscale

  crossplane:
    namespace: syn-crossplane

  appcat:
    providers:
      kubernetes:
        enabled: true
      helm:
        enabled: true

    services:
      vshn:
        enabled: true
        postgres:
          bucket_region: 'us-east-1'
          bucket_endpoint: 'http://minio-server.minio:9000'
      generic:
          objectstorage:
            enabled: true

            defaultComposition: dev
            compositions:
              exoscale:
                enabled: false
              cloudscale:
                enabled: false
