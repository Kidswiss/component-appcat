classes:
  - ...common

parameters:

  appcat:
    composites:
      "exoscalepostgresqls.appcat.vshn.io":
        spec:
          group: appcat.vshn.io
          names:
            kind: XExoscalePostgreSQL
            plural: xexoscalepostgresqls
          claimNames:
            kind: ExoscalePostgreSQL
            plural: exoscalepostgresqls
          connectionSecretKeys:
            - POSTGRESQL_URL
            - POSTGRESQL_DB
            - POSTGRESQL_HOST
            - POSTGRESQL_PORT
            - POSTGRESQL_USER
            - POSTGRESQL_PASSWORD
            - ca.crt
          defaultCompositionRef:
            name: exoscale.postgres.appcat.vshn.io
          versions:
            - name: v1
              referenceable: true
              served: true
              schema:
                openAPIV3Schema:
                  type: object
                  properties:
                    spec:
                      type: object
                      properties:
                        parameters:
                          type: object
                          properties:
                            service:
                              description: Service contains Exoscale PostgreSQL DBaaS specific properties
                              properties:
                                majorVersion:
                                  description: MajorVersion is the major version identifier for the
                                    instance.
                                  type: string
                                  default: "14"
                                pgSettings:
                                  description: PGSettings contains additional PostgreSQL settings.
                                  type: object
                                  x-kubernetes-preserve-unknown-fields: true
                                zone:
                                  description: Zone is the datacenter identifier in which the instance
                                    runs in.
                                  enum:
                                    - ch-gva-2
                                    - ch-dk-2
                                    - de-fra-1
                                    - de-muc-1
                                    - at-vie-1
                                    - bg-sof-1
                                  type: string
                                  default: ch-gva-2
                              type: object
                            network:
                              description: Network contains any network related settings.
                              properties:
                                ipFilter:
                                  description: IPFilter is a list of allowed IPv4 CIDR ranges that
                                    can access the service. If no IP Filter is set, you may not
                                    be able to reach the service. A value of `0.0.0.0/0` will open
                                    the service to all addresses on the public internet.
                                  items:
                                    type: string
                                  type: array
                                  default:
                                    - 0.0.0.0/0
                            backup:
                              description: Backup contains settings to control the backups
                                of an instance.
                              properties:
                                timeOfDay:
                                  description: 'TimeOfDay for doing daily backups, in UTC. Format:
                                    "hh:mm:ss".'
                                  pattern: ^([0-1]?[0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9])$
                                  type: string
                                  default: 22:00:00
                              type: object
                            maintenance:
                              description: MaintenanceSpec contains settings to control the
                                maintenance of an instance.
                              properties:
                                dayOfWeek:
                                  description: DayOfWeek specifies at which weekday the maintenance
                                    is held place. Allowed values are [monday, tuesday, wednesday,
                                    thursday, friday, saturday, sunday, never]
                                  enum:
                                    - monday
                                    - tuesday
                                    - wednesday
                                    - thursday
                                    - friday
                                    - saturday
                                    - sunday
                                    - never
                                  type: string
                                  default: tuesday
                                timeOfDay:
                                  description: 'TimeOfDay for installing updates in UTC. Format:
                                    "hh:mm:ss".'
                                  pattern: ^([0-1]?[0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9])$
                                  type: string
                                  default: 22:00:00
                              type: object
                            size:
                              description: Size contains the service capacity settings.
                              properties:
                                plan:
                                  type: string
                                  default: standard-4
                              type: object
                    status:
                      description: A PostgreSQLStatus reflects the observed state of a ExoscalePostgreSQL.
                      properties:
                        postgresConditions:
                          items:
                            description: "PostgresSQL condition contains details for one aspect of this claim's underlying
                              exoscale PostgresSQL state."
                            properties:
                              lastTransitionTime:
                                description: lastTransitionTime is the last time the condition
                                  transitioned from one status to another. This should be when
                                  the underlying condition changed.  If that is not known, then
                                  using the time when the API field changed is acceptable.
                                format: date-time
                                type: string
                              message:
                                description: message is a human readable message indicating
                                  details about the transition. This may be an empty string.
                                maxLength: 32768
                                type: string
                              observedGeneration:
                                description: observedGeneration represents the .metadata.generation
                                  that the condition was set based upon. For instance, if .metadata.generation
                                  is currently 12, but the .status.conditions[x].observedGeneration
                                  is 9, the condition is out of date with respect to the current
                                  state of the instance.
                                format: int64
                                minimum: 0
                                type: integer
                              reason:
                                description: reason contains a programmatic identifier indicating
                                  the reason for the condition's last transition. Producers
                                  of specific condition types may define expected values and
                                  meanings for this field, and whether the values are considered
                                  a guaranteed API. The value should be a CamelCase string.
                                  This field may not be empty.
                                maxLength: 1024
                                minLength: 1
                                pattern: ^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$
                                type: string
                              status:
                                description: status of the condition, one of True, False, Unknown.
                                enum:
                                  - "True"
                                  - "False"
                                  - Unknown
                                type: string
                              type:
                                description: type of condition in CamelCase or in foo.example.com/CamelCase.
                                  --- Many .condition.type values are consistent across resources
                                  like Available, but because arbitrary conditions can be useful
                                  (see .node.status.conditions), the ability to deconflict is
                                  important. The regex it matches is (dns1123SubdomainFmt/)?(qualifiedNameFmt)
                                maxLength: 316
                                pattern: ^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$
                                type: string
                            type: object
                          type: array
                      type: object
